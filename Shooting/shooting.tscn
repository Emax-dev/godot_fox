[gd_scene load_steps=2 format=3 uid="uid://c2ror8dccc437"]

[sub_resource type="GDScript" id="GDScript_8c4eu"]
script/source = "extends Node2D

@onready var shooting_timer: Timer = $ShootingTimer
@onready var shooting_sound: AudioStreamPlayer2D = $ShootingSound


@export var Bullet_key:MakeObject.BULLET_KEY
@export var speed:float=50.0
@export var life_span:float=8
@export var shooting_delay:float=0.7

var _can_shoot:bool=true


func _ready() -> void:
	pass
func shoot(direction:Vector2)->void:
	shooting_timer.wait_time=shooting_delay
	if _can_shoot==false:
		pass
	shooting_timer.start()
	_can_shoot=false
	SoundManager.play_clip(shooting_sound,SoundManager.SOUND_LASER)
	MakeObject.create_bullet(speed,direction,global_position,life_span,Bullet_key)

func _on_shooting_timer_timeout() -> void:
	_can_shoot=true
	
"

[node name="Shooting" type="Node2D"]
script = SubResource("GDScript_8c4eu")

[node name="ShootingTimer" type="Timer" parent="."]

[node name="ShootingSound" type="AudioStreamPlayer2D" parent="."]

[connection signal="timeout" from="ShootingTimer" to="." method="_on_shooting_timer_timeout"]
